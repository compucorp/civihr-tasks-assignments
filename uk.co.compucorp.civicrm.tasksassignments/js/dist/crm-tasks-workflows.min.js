!function(t){"use strict";angular.module("crm-tasks-workflows.controllers",[])}(),function(t){"use strict";angular.module("crm-tasks-workflows.core",["crmCaseType"])}(),function(t){"use strict";angular.module("crm-tasks-workflows.decorators",[])}(),function(t){"use strict";function e(t,e,o,r,s,c,i){e.debug("Controller: CaseTypeExtendedController");var n,a,l={};function u(t,e){l.addActivity(t,e),t.activityTypes.forEach(function(t){t.name===e&&delete t.reference_activity})}s.actTypes={values:(n=c.values.map(function(t){return t.label=t.label+" (Task)",t}),a=i.values.map(function(t){return t.label=t.label+" (Document)",t}),n.concat(a))},t("CaseTypeCtrl",{$scope:o,crmApi:r,apiCalls:s}),l.addActivity=o.addActivity,o.addActivity=u,!o.caseType.id&&(o.caseType.definition.activitySets[0].activityTypes=[])}angular.module("crm-tasks-workflows.controllers").controller("CaseTypeExtendedController",e),e.$inject=["$controller","$log","$scope","crmApi","apiCalls","activityOptionsTask","activityOptionsDocument"]}(),function(t){"use strict";function e(t){var e;function o(e){return["crmApi",function(t){return t("OptionValue","get",{option_group_id:"activity_type",component_id:e,sequential:1,options:{sort:"name",limit:0}})}]}return(e=t.routes["/caseType/:id"]).controller="CaseTypeExtendedController",e.resolve.activityOptionsTask=o("CiviTask"),e.resolve.activityOptionsDocument=o("CiviDocument"),t}angular.module("crm-tasks-workflows.decorators").config(["$provide",function(t){t.decorator("$route",e)}]),e.$inject=["$delegate"]}(),function(t){"use strict";angular.module("crm-tasks-workflows",["crm-tasks-workflows.core","crm-tasks-workflows.controllers","crm-tasks-workflows.decorators"])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNybS10YXNrcy13b3JrZmxvd3MuY29udHJvbGxlcnMuanMiLCJjcm0tdGFza3Mtd29ya2Zsb3dzLmNvcmUuanMiLCJjcm0tdGFza3Mtd29ya2Zsb3dzLmRlY29yYXRvci5qcyIsImNhc2V0eXBlLmV4dGVuZGVkLmNvbnRyb2xsZXIuanMiLCJyb3V0ZS5kZWNvcmF0b3IuanMiLCJjcm0tdGFza3Mtd29ya2Zsb3dzLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJDYXNlVHlwZUV4dGVuZGVkQ29udHJvbGxlciIsIiRjb250cm9sbGVyIiwiJGxvZyIsIiRzY29wZSIsImNybUFwaSIsImFwaUNhbGxzIiwiYWN0aXZpdHlPcHRpb25zVGFzayIsImFjdGl2aXR5T3B0aW9uc0RvY3VtZW50IiwiZGVidWciLCJ0YXNrT3B0aW9ucyIsImRvY3VtZW50T3B0aW9ucyIsInBhcmVudE1ldGhvZHMiLCJhZGRBY3Rpdml0eSIsImFjdGl2aXR5U2V0IiwiYWN0aXZpdHlUeXBlIiwiYWN0aXZpdHlUeXBlcyIsImZvckVhY2giLCJhY3Rpdml0eSIsIm5hbWUiLCJyZWZlcmVuY2VfYWN0aXZpdHkiLCJhY3RUeXBlcyIsInZhbHVlcyIsIm1hcCIsInR5cGUiLCJsYWJlbCIsImRvY3VtZW50IiwiY29uY2F0IiwiY2FzZVR5cGUiLCJpZCIsImRlZmluaXRpb24iLCJhY3Rpdml0eVNldHMiLCJjb250cm9sbGVyIiwiJGluamVjdCIsIlJvdXRlRGVjb3JhdG9yIiwiJGRlbGVnYXRlIiwiY2FzZVR5cGVFZGl0Um91dGUiLCJnZXRSZXNvbHZlckZvckFjdGl2aXR5VHlwZUNvbXBvbmVudCIsImNvbXBvbmVudE5hbWUiLCJvcHRpb25fZ3JvdXBfaWQiLCJjb21wb25lbnRfaWQiLCJzZXF1ZW50aWFsIiwib3B0aW9ucyIsInNvcnQiLCJsaW1pdCIsInJvdXRlcyIsInJlc29sdmUiLCJjb25maWciLCIkcHJvdmlkZSIsImRlY29yYXRvciJdLCJtYXBwaW5ncyI6IkNBRUEsU0FBQUEsR0FDQSxhQUdBQSxRQURBQyxPQUFBLGtDQUFBLElBSEEsR0NBQSxTQUFBRCxHQUNBLGFBS0FBLFFBSEFDLE9BQUEsMkJBQUEsQ0FDQSxnQkFKQSxHQ0FBLFNBQUFELEdBQ0EsYUFHQUEsUUFEQUMsT0FBQSxpQ0FBQSxJQUhBLEdDQUEsU0FBQUQsR0FDQSxhQVNBLFNBQUFFLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FMLEVBQUFNLE1BQUEsMENBRUEsSUFzREFDLEVBTUFDLEVBNURBQyxFQUFBLEdBc0JBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0FILEVBQUFDLFlBQUFDLEVBQUFDLEdBR0FELEVBQUFFLGNBQUFDLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUMsT0FBQUosVUFDQUcsRUFBQUUscUJBZ0JBZCxFQUFBZSxTQUFBLENBQUFDLFFBVUFaLEVBQUFILEVBQUFlLE9BQUFDLElBQUEsU0FBQUMsR0FHQSxPQUZBQSxFQUFBQyxNQUFBRCxFQUFBQyxNQUFBLFVBRUFELElBR0FiLEVBQUFILEVBQUFjLE9BQUFDLElBQUEsU0FBQUcsR0FHQSxPQUZBQSxFQUFBRCxNQUFBQyxFQUFBRCxNQUFBLGNBRUFDLElBR0FoQixFQUFBaUIsT0FBQWhCLEtBckJBVCxFQUFBLGVBQUEsQ0FBQUUsT0FBQUEsRUFBQUMsT0FBQUEsRUFBQUMsU0FBQUEsSUF0Q0FNLEVBQUFDLFlBQUFULEVBQUFTLFlBQ0FULEVBQUFTLFlBQUFBLEdBQ0FULEVBQUF3QixTQUFBQyxLQTRCQXpCLEVBQUF3QixTQUFBRSxXQUFBQyxhQUFBLEdBQUFmLGNBQUEsSUFnQ0FqQixRQS9FQUMsT0FBQSxtQ0FDQWdDLFdBQUEsNkJBQUEvQixHQUVBQSxFQUFBZ0MsUUFBQSxDQUNBLGNBQUEsT0FBQSxTQUFBLFNBQUEsV0FBQSxzQkFBQSwyQkFQQSxHQ0FBLFNBQUFsQyxHQUNBLGFBU0EsU0FBQW1DLEVBQUFDLEdBQ0EsSUFDQUMsRUFhQSxTQUFBQyxFQUFBQyxHQUNBLE1BQUEsQ0FBQSxTQUFBLFNBQUFqQyxHQUNBLE9BQUFBLEVBQUEsY0FBQSxNQUFBLENBQ0FrQyxnQkFBQSxnQkFDQUMsYUFBQUYsRUFDQUcsV0FBQSxFQUNBQyxRQUFBLENBQUFDLEtBQUEsT0FBQUMsTUFBQSxPQUtBLE9BeEJBUixFQUFBRCxFQUFBVSxPQUFBLGtCQUVBYixXQUFBLDZCQUNBSSxFQUFBVSxRQUFBdkMsb0JBQUE4QixFQUFBLFlBQ0FELEVBQUFVLFFBQUF0Qyx3QkFBQTZCLEVBQUEsZ0JBb0JBRixFQUVBcEMsUUFuQ0FDLE9BQUEsa0NBQ0ErQyxPQUFBLENBQUEsV0FBQSxTQUFBQyxHQUNBQSxFQUFBQyxVQUFBLFNBQUFmLE1BR0FBLEVBQUFELFFBQUEsQ0FBQSxhQVJBLEdDQUEsU0FBQWxDLEdBQ0EsYUFPQUEsUUFMQUMsT0FBQSxzQkFBQSxDQUNBLDJCQUNBLGtDQUNBLG1DQU5BIiwiZmlsZSI6ImNybS10YXNrcy13b3JrZmxvd3MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIGFuZ3VsYXIgKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnY3JtLXRhc2tzLXdvcmtmbG93cy5jb250cm9sbGVycycsIFtdKTtcbn0pKGFuZ3VsYXIpO1xuIiwiLyogZ2xvYmFsIGFuZ3VsYXIgKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnY3JtLXRhc2tzLXdvcmtmbG93cy5jb3JlJywgW1xuICAgICdjcm1DYXNlVHlwZSdcbiAgXSk7XG59KShhbmd1bGFyKTtcbiIsIi8qIGdsb2JhbCBhbmd1bGFyICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2NybS10YXNrcy13b3JrZmxvd3MuZGVjb3JhdG9ycycsIFtdKTtcbn0pKGFuZ3VsYXIpO1xuIiwiLyogZ2xvYmFsIGFuZ3VsYXIgKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnY3JtLXRhc2tzLXdvcmtmbG93cy5jb250cm9sbGVycycpXG4gICAgLmNvbnRyb2xsZXIoJ0Nhc2VUeXBlRXh0ZW5kZWRDb250cm9sbGVyJywgQ2FzZVR5cGVFeHRlbmRlZENvbnRyb2xsZXIpO1xuXG4gIENhc2VUeXBlRXh0ZW5kZWRDb250cm9sbGVyLiRpbmplY3QgPSBbXG4gICAgJyRjb250cm9sbGVyJywgJyRsb2cnLCAnJHNjb3BlJywgJ2NybUFwaScsICdhcGlDYWxscycsICdhY3Rpdml0eU9wdGlvbnNUYXNrJywgJ2FjdGl2aXR5T3B0aW9uc0RvY3VtZW50J1xuICBdO1xuXG4gIGZ1bmN0aW9uIENhc2VUeXBlRXh0ZW5kZWRDb250cm9sbGVyICgkY29udHJvbGxlciwgJGxvZywgJHNjb3BlLCBjcm1BcGksIGFwaUNhbGxzLCBhY3Rpdml0eU9wdGlvbnNUYXNrLCBhY3Rpdml0eU9wdGlvbnNEb2N1bWVudCkge1xuICAgICRsb2cuZGVidWcoJ0NvbnRyb2xsZXI6IENhc2VUeXBlRXh0ZW5kZWRDb250cm9sbGVyJyk7XG5cbiAgICB2YXIgcGFyZW50TWV0aG9kcyA9IHt9O1xuXG4gICAgKGZ1bmN0aW9uIGluaXQgKCkge1xuICAgICAgdmFyIGlzTmV3Q2FzZVR5cGU7XG5cbiAgICAgIGluaXRQYXJlbnRDb250cm9sbGVyKCk7XG5cbiAgICAgIHBhcmVudE1ldGhvZHMuYWRkQWN0aXZpdHkgPSAkc2NvcGUuYWRkQWN0aXZpdHk7XG4gICAgICAkc2NvcGUuYWRkQWN0aXZpdHkgPSBhZGRBY3Rpdml0eTtcbiAgICAgIGlzTmV3Q2FzZVR5cGUgPSAhJHNjb3BlLmNhc2VUeXBlLmlkO1xuXG4gICAgICBpZiAoaXNOZXdDYXNlVHlwZSkge1xuICAgICAgICBjbGVhckFsbEFjdGl2aXR5VHlwZXNGcm9tTWFpbkFjdGl2aXR5U2V0KCk7XG4gICAgICB9XG4gICAgfSkoKTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBuZXcgYWN0aXZpdHlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGl2aXR5U2V0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGFjdGl2aXR5VHlwZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZEFjdGl2aXR5IChhY3Rpdml0eVNldCwgYWN0aXZpdHlUeXBlKSB7XG4gICAgICBwYXJlbnRNZXRob2RzLmFkZEFjdGl2aXR5KGFjdGl2aXR5U2V0LCBhY3Rpdml0eVR5cGUpO1xuXG4gICAgICAvLyByZW1vdmUgcmVmZXJlbmNlX2FjdGl2aXR5IHByb3BlcnR5IGZyb20gbmV3bHkgYWRkZWQgYWN0aXZpdHlcbiAgICAgIGFjdGl2aXR5U2V0LmFjdGl2aXR5VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAoYWN0aXZpdHkpIHtcbiAgICAgICAgaWYgKGFjdGl2aXR5Lm5hbWUgPT09IGFjdGl2aXR5VHlwZSkge1xuICAgICAgICAgIGRlbGV0ZSBhY3Rpdml0eS5yZWZlcmVuY2VfYWN0aXZpdHk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgdGhlIGFjdGl2aXR5IHR5cGVzIGRlZmluZWQgaW4gdGhlIG1haW4gYWN0aXZpdHkgc2V0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsZWFyQWxsQWN0aXZpdHlUeXBlc0Zyb21NYWluQWN0aXZpdHlTZXQgKCkge1xuICAgICAgJHNjb3BlLmNhc2VUeXBlLmRlZmluaXRpb24uYWN0aXZpdHlTZXRzWzBdLmFjdGl2aXR5VHlwZXMgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXNlIHRoZSBwYXJlbnQgY29udHJvbGxlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRQYXJlbnRDb250cm9sbGVyICgpIHtcbiAgICAgIGFwaUNhbGxzLmFjdFR5cGVzID0geyB2YWx1ZXM6IHByZXBhcmVBY3Rpdml0eVR5cGVzKCkgfTtcbiAgICAgICRjb250cm9sbGVyKCdDYXNlVHlwZUN0cmwnLCB7JHNjb3BlOiAkc2NvcGUsIGNybUFwaTogY3JtQXBpLCBhcGlDYWxsczogYXBpQ2FsbHN9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgbGlzdCBvZiBhY3Rpdml0eSB0eXBlcyB3aXRoIGNvbXBvbmVudCB0eXBlIGFkZGVkIHRvIGxhYmVsXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcmVwYXJlQWN0aXZpdHlUeXBlcyAoKSB7XG4gICAgICB2YXIgdGFza09wdGlvbnMgPSBhY3Rpdml0eU9wdGlvbnNUYXNrLnZhbHVlcy5tYXAoZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdHlwZS5sYWJlbCA9ICh0eXBlLmxhYmVsICsgJyAoVGFzayknKTtcblxuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZG9jdW1lbnRPcHRpb25zID0gYWN0aXZpdHlPcHRpb25zRG9jdW1lbnQudmFsdWVzLm1hcChmdW5jdGlvbiAoZG9jdW1lbnQpIHtcbiAgICAgICAgZG9jdW1lbnQubGFiZWwgPSAoZG9jdW1lbnQubGFiZWwgKyAnIChEb2N1bWVudCknKTtcblxuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRhc2tPcHRpb25zLmNvbmNhdChkb2N1bWVudE9wdGlvbnMpO1xuICAgIH1cbiAgfVxufSkoYW5ndWxhcik7XG4iLCIvKiBnbG9iYWwgYW5ndWxhciAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdjcm0tdGFza3Mtd29ya2Zsb3dzLmRlY29yYXRvcnMnKVxuICAgIC5jb25maWcoWyckcHJvdmlkZScsIGZ1bmN0aW9uICgkcHJvdmlkZSkge1xuICAgICAgJHByb3ZpZGUuZGVjb3JhdG9yKCckcm91dGUnLCBSb3V0ZURlY29yYXRvcik7XG4gICAgfV0pO1xuXG4gIFJvdXRlRGVjb3JhdG9yLiRpbmplY3QgPSBbJyRkZWxlZ2F0ZSddO1xuXG4gIGZ1bmN0aW9uIFJvdXRlRGVjb3JhdG9yICgkZGVsZWdhdGUpIHtcbiAgICAoZnVuY3Rpb24gaW5pdCAoKSB7XG4gICAgICB2YXIgY2FzZVR5cGVFZGl0Um91dGUgPSAkZGVsZWdhdGUucm91dGVzWycvY2FzZVR5cGUvOmlkJ107XG5cbiAgICAgIGNhc2VUeXBlRWRpdFJvdXRlLmNvbnRyb2xsZXIgPSAnQ2FzZVR5cGVFeHRlbmRlZENvbnRyb2xsZXInO1xuICAgICAgY2FzZVR5cGVFZGl0Um91dGUucmVzb2x2ZS5hY3Rpdml0eU9wdGlvbnNUYXNrID0gZ2V0UmVzb2x2ZXJGb3JBY3Rpdml0eVR5cGVDb21wb25lbnQoJ0NpdmlUYXNrJyk7XG4gICAgICBjYXNlVHlwZUVkaXRSb3V0ZS5yZXNvbHZlLmFjdGl2aXR5T3B0aW9uc0RvY3VtZW50ID0gZ2V0UmVzb2x2ZXJGb3JBY3Rpdml0eVR5cGVDb21wb25lbnQoJ0NpdmlEb2N1bWVudCcpO1xuICAgIH0pKCk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmVzb2x2ZXIgZm9yIHRoZSBsaXN0IG9mIGFjdGl2aXR5IHR5cGVzIGZvciBhIHBhcnRpY3VsYXIgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBjb21wb25lbnROYW1lIC0gdGhlIG5hbWUgb2YgdGhlIGFjdGl2aXR5IHR5cGUncyBjb21wb25lbnQuXG4gICAgICogQHJldHVybiB7QXJyYXl9ICBBbiBhcnJheSBjb250YWluaW5nIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgcmVzb2x2ZSB0aGUgYWN0aXZpdHkgdHlwZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmVzb2x2ZXJGb3JBY3Rpdml0eVR5cGVDb21wb25lbnQgKGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIHJldHVybiBbJ2NybUFwaScsIGZ1bmN0aW9uIGFjdGl2aXR5T3B0aW9uc1Jlc29sdmVyIChjcm1BcGkpIHtcbiAgICAgICAgcmV0dXJuIGNybUFwaSgnT3B0aW9uVmFsdWUnLCAnZ2V0Jywge1xuICAgICAgICAgIG9wdGlvbl9ncm91cF9pZDogJ2FjdGl2aXR5X3R5cGUnLFxuICAgICAgICAgIGNvbXBvbmVudF9pZDogY29tcG9uZW50TmFtZSxcbiAgICAgICAgICBzZXF1ZW50aWFsOiAxLFxuICAgICAgICAgIG9wdGlvbnM6IHsgc29ydDogJ25hbWUnLCBsaW1pdDogMCB9XG4gICAgICAgIH0pO1xuICAgICAgfV07XG4gICAgfVxuXG4gICAgcmV0dXJuICRkZWxlZ2F0ZTtcbiAgfVxufSkoYW5ndWxhcik7XG4iLCIvKiBnbG9iYWwgYW5ndWxhciAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdjcm0tdGFza3Mtd29ya2Zsb3dzJywgW1xuICAgICdjcm0tdGFza3Mtd29ya2Zsb3dzLmNvcmUnLFxuICAgICdjcm0tdGFza3Mtd29ya2Zsb3dzLmNvbnRyb2xsZXJzJyxcbiAgICAnY3JtLXRhc2tzLXdvcmtmbG93cy5kZWNvcmF0b3JzJ1xuICBdKTtcbn0pKGFuZ3VsYXIpO1xuIl19

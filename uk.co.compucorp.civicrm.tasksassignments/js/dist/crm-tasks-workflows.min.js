!function(e){"use strict";angular.module("crm-tasks-workflows.controllers",[])}(),function(e){"use strict";angular.module("crm-tasks-workflows.decorators",[])}(),function(e){"use strict";function t(e,t,o){e.debug("Controller: CaseTypeExtendedController"),t.activityTypeOptions=[],o("OptionValue","get",{option_group_id:"activity_type",component_id:{IN:["CiviTask","CiviDocument"]},sequential:1,options:{sort:"name",limit:0}}).then(function(e){t.activityTypeOptions=e.values.map(function(e){return{id:e.name,text:e.label,icon:e.icon}})})}angular.module("crm-tasks-workflows.controllers").controller("CaseTypeExtendedController",t),t.$inject=["$log","$scope","crmApi"]}(),function(e){"use strict";function t(e){return e[0].compile=function(){return function(t,e,o){var n=CRM.$("input",e);function r(){CRM.$(n).crmSelect2({data:t[o.crmOptions],createSearchChoice:function(e){return{id:e,text:e+" ("+ts("new")+")"}},createSearchChoicePosition:"bottom",placeholder:o.placeholder})}r(),t.$watch(o.crmOptions,r),CRM.$(n).on("select2-selecting",function(e){t[o.crmVar]=e.val,t.$evalAsync(o.crmOnAdd),t.$evalAsync("_resetSelection()"),e.preventDefault()}),t._resetSelection=function(){CRM.$(n).select2("close"),CRM.$(n).select2("val",""),t[o.crmVar]=""}}},e}angular.module("crm-tasks-workflows.decorators").config(["$provide",function(e){e.decorator("crmAddNameDirective",t)}]),t.$inject=["$delegate"]}(),angular.module("crm-tasks-workflows",["crmCaseType"].concat(["crm-tasks-workflows.controllers","crm-tasks-workflows.decorators"]));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNybS10YXNrcy13b3JrZmxvd3MuY29udHJvbGxlcnMuanMiLCJjcm0tdGFza3Mtd29ya2Zsb3dzLmRlY29yYXRvcnMuanMiLCJjYXNldHlwZS5leHRlbmRlZC5jb250cm9sbGVyLmpzIiwiY3JtLWFkZC1uYW1lLmRlY29yYXRvci5qcyIsImNybS10YXNrcy13b3JrZmxvd3MuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsIkNhc2VUeXBlRXh0ZW5kZWRDb250cm9sbGVyIiwiJGxvZyIsIiRzY29wZSIsImNybUFwaSIsImRlYnVnIiwiYWN0aXZpdHlUeXBlT3B0aW9ucyIsIm9wdGlvbl9ncm91cF9pZCIsImNvbXBvbmVudF9pZCIsIklOIiwic2VxdWVudGlhbCIsIm9wdGlvbnMiLCJzb3J0IiwibGltaXQiLCJ0aGVuIiwiZGF0YSIsInZhbHVlcyIsIm1hcCIsInR5cGUiLCJpZCIsIm5hbWUiLCJ0ZXh0IiwibGFiZWwiLCJpY29uIiwiY29udHJvbGxlciIsIiRpbmplY3QiLCJDcm1BZGROYW1lRGVjb3JhdG9yIiwiJGRlbGVnYXRlIiwiY29tcGlsZSIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiaW5wdXQiLCJDUk0iLCIkIiwiaW5pdFNlbGVjdDIiLCJjcm1TZWxlY3QyIiwiY3JtT3B0aW9ucyIsImNyZWF0ZVNlYXJjaENob2ljZSIsInRlcm0iLCJ0cyIsImNyZWF0ZVNlYXJjaENob2ljZVBvc2l0aW9uIiwicGxhY2Vob2xkZXIiLCIkd2F0Y2giLCJvbiIsImUiLCJjcm1WYXIiLCJ2YWwiLCIkZXZhbEFzeW5jIiwiY3JtT25BZGQiLCJwcmV2ZW50RGVmYXVsdCIsIl9yZXNldFNlbGVjdGlvbiIsInNlbGVjdDIiLCJjb25maWciLCIkcHJvdmlkZSIsImRlY29yYXRvciIsImNvbmNhdCJdLCJtYXBwaW5ncyI6IkNBRUEsU0FBQUEsR0FDQSxhQUdBQSxRQURBQyxPQUFBLGtDQUFBLElBSEEsR0NBQSxTQUFBRCxHQUNBLGFBR0FBLFFBREFDLE9BQUEsaUNBQUEsSUFIQSxHQ0FBLFNBQUFELEdBQ0EsYUFTQSxTQUFBRSxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBRixFQUFBRyxNQUFBLDBDQUVBRixFQUFBRyxvQkFBQSxHQVlBRixFQUFBLGNBQUEsTUFBQSxDQUNBRyxnQkFBQSxnQkFDQUMsYUFBQSxDQUFBQyxHQUFBLENBQUEsV0FBQSxpQkFDQUMsV0FBQSxFQUNBQyxRQUFBLENBQ0FDLEtBQUEsT0FDQUMsTUFBQSxLQUVBQyxLQUFBLFNBQUFDLEdBQ0FaLEVBQUFHLG9CQUFBUyxFQUFBQyxPQUFBQyxJQUFBLFNBQUFDLEdBQ0EsTUFBQSxDQUFBQyxHQUFBRCxFQUFBRSxLQUFBQyxLQUFBSCxFQUFBSSxNQUFBQyxLQUFBTCxFQUFBSyxVQU9BeEIsUUF2Q0FDLE9BQUEsbUNBQ0F3QixXQUFBLDZCQUFBdkIsR0FFQUEsRUFBQXdCLFFBQUEsQ0FDQSxPQUFBLFNBQUEsVUFQQSxHQ0FBLFNBQUExQixHQUNBLGFBV0EsU0FBQTJCLEVBQUFDLEdBNkNBLE9BNUNBQSxFQUFBLEdBRUFDLFFBQUEsV0FDQSxPQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUMsSUFBQUMsRUFBQSxRQUFBSixHQXVCQSxTQUFBSyxJQUNBRixJQUFBQyxFQUFBRixHQUFBSSxXQUFBLENBQ0FyQixLQUFBYyxFQUFBRSxFQUFBTSxZQUNBQyxtQkFBQSxTQUFBQyxHQUNBLE1BQUEsQ0FBQXBCLEdBQUFvQixFQUFBbEIsS0FBQWtCLEVBQUEsS0FBQUMsR0FBQSxPQUFBLE1BRUFDLDJCQUFBLFNBQ0FDLFlBQUFYLEVBQUFXLGNBM0JBUCxJQWdDQU4sRUFBQWMsT0FBQVosRUFBQU0sV0FBQUYsR0FwQkFGLElBQUFDLEVBQUFGLEdBQUFZLEdBQUEsb0JBQUEsU0FBQUMsR0FDQWhCLEVBQUFFLEVBQUFlLFFBQUFELEVBQUFFLElBQ0FsQixFQUFBbUIsV0FBQWpCLEVBQUFrQixVQUNBcEIsRUFBQW1CLFdBQUEscUJBQ0FILEVBQUFLLG1CQVhBckIsRUFBQXNCLGdCQUFBLFdBQ0FsQixJQUFBQyxFQUFBRixHQUFBb0IsUUFBQSxTQUNBbkIsSUFBQUMsRUFBQUYsR0FBQW9CLFFBQUEsTUFBQSxJQUNBdkIsRUFBQUUsRUFBQWUsUUFBQSxNQTZCQW5CLEVBSUE1QixRQTFEQUMsT0FBQSxrQ0FDQXFELE9BQUEsQ0FBQSxXQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLFVBQUEsc0JBQUE3QixNQUdBQSxFQUFBRCxRQUFBLENBQ0EsYUFUQSxHQ09BMUIsUUFKQUMsT0FBQSxzQkFGQSxDQUFBLGVBRUF3RCxPQUFBLENBQ0Esa0NBQ0EiLCJmaWxlIjoiY3JtLXRhc2tzLXdvcmtmbG93cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgYW5ndWxhciAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdjcm0tdGFza3Mtd29ya2Zsb3dzLmNvbnRyb2xsZXJzJywgW10pO1xufSkoYW5ndWxhcik7XG4iLCIvKiBnbG9iYWwgYW5ndWxhciAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdjcm0tdGFza3Mtd29ya2Zsb3dzLmRlY29yYXRvcnMnLCBbXSk7XG59KShhbmd1bGFyKTtcbiIsIi8qIGdsb2JhbCBhbmd1bGFyICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2NybS10YXNrcy13b3JrZmxvd3MuY29udHJvbGxlcnMnKVxuICAgIC5jb250cm9sbGVyKCdDYXNlVHlwZUV4dGVuZGVkQ29udHJvbGxlcicsIENhc2VUeXBlRXh0ZW5kZWRDb250cm9sbGVyKTtcblxuICBDYXNlVHlwZUV4dGVuZGVkQ29udHJvbGxlci4kaW5qZWN0ID0gW1xuICAgICckbG9nJywgJyRzY29wZScsICdjcm1BcGknXG4gIF07XG5cbiAgZnVuY3Rpb24gQ2FzZVR5cGVFeHRlbmRlZENvbnRyb2xsZXIgKCRsb2csICRzY29wZSwgY3JtQXBpKSB7XG4gICAgJGxvZy5kZWJ1ZygnQ29udHJvbGxlcjogQ2FzZVR5cGVFeHRlbmRlZENvbnRyb2xsZXInKTtcblxuICAgICRzY29wZS5hY3Rpdml0eVR5cGVPcHRpb25zID0gW107XG5cbiAgICAoZnVuY3Rpb24gaW5pdCAoKSB7XG4gICAgICBmZXRjaEFjdGl2aXR5VHlwZXMoKTtcbiAgICB9KSgpO1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2ggYWN0aXZpdHkgdHlwZXMgd2hpY2ggYXJlIGNvbXBvbmVudHMgb2YgQ2l2aVRhc2sgb3IgQ2l2aURvY3VtZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZldGNoQWN0aXZpdHlUeXBlcyAoKSB7XG4gICAgICByZXR1cm4gY3JtQXBpKCdPcHRpb25WYWx1ZScsICdnZXQnLCB7XG4gICAgICAgIG9wdGlvbl9ncm91cF9pZDogJ2FjdGl2aXR5X3R5cGUnLFxuICAgICAgICBjb21wb25lbnRfaWQ6IHsnSU4nOiBbJ0NpdmlUYXNrJywgJ0NpdmlEb2N1bWVudCddfSxcbiAgICAgICAgc2VxdWVudGlhbDogMSxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIHNvcnQ6ICduYW1lJyxcbiAgICAgICAgICBsaW1pdDogMFxuICAgICAgICB9XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICRzY29wZS5hY3Rpdml0eVR5cGVPcHRpb25zID0gZGF0YS52YWx1ZXMubWFwKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgcmV0dXJuIHsgaWQ6IHR5cGUubmFtZSwgdGV4dDogdHlwZS5sYWJlbCwgaWNvbjogdHlwZS5pY29uIH07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIENhc2VUeXBlRXh0ZW5kZWRDb250cm9sbGVyO1xufSkoYW5ndWxhcik7XG4iLCIvKiBnbG9iYWwgYW5ndWxhciwgdHMgKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnY3JtLXRhc2tzLXdvcmtmbG93cy5kZWNvcmF0b3JzJylcbiAgICAuY29uZmlnKFsnJHByb3ZpZGUnLCBmdW5jdGlvbiAoJHByb3ZpZGUpIHtcbiAgICAgICRwcm92aWRlLmRlY29yYXRvcignY3JtQWRkTmFtZURpcmVjdGl2ZScsIENybUFkZE5hbWVEZWNvcmF0b3IpO1xuICAgIH1dKTtcblxuICBDcm1BZGROYW1lRGVjb3JhdG9yLiRpbmplY3QgPSBbXG4gICAgJyRkZWxlZ2F0ZSdcbiAgXTtcblxuICBmdW5jdGlvbiBDcm1BZGROYW1lRGVjb3JhdG9yICgkZGVsZWdhdGUpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0gJGRlbGVnYXRlWzBdO1xuXG4gICAgZGlyZWN0aXZlLmNvbXBpbGUgPSBmdW5jdGlvbiBjb21waWxlICgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IENSTS4kKCdpbnB1dCcsIGVsZW1lbnQpO1xuXG4gICAgICAgIChmdW5jdGlvbiBpbml0ICgpIHtcbiAgICAgICAgICBpbml0U2VsZWN0MigpO1xuICAgICAgICAgIGluaXRXYXRjaGVycygpO1xuICAgICAgICAgIGluaXRFdmVudHMoKTtcbiAgICAgICAgfSkoKTtcblxuICAgICAgICBzY29wZS5fcmVzZXRTZWxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgQ1JNLiQoaW5wdXQpLnNlbGVjdDIoJ2Nsb3NlJyk7XG4gICAgICAgICAgQ1JNLiQoaW5wdXQpLnNlbGVjdDIoJ3ZhbCcsICcnKTtcbiAgICAgICAgICBzY29wZVthdHRycy5jcm1WYXJdID0gJyc7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdEV2ZW50cyAoKSB7XG4gICAgICAgICAgQ1JNLiQoaW5wdXQpLm9uKCdzZWxlY3QyLXNlbGVjdGluZycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBzY29wZVthdHRycy5jcm1WYXJdID0gZS52YWw7XG4gICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKGF0dHJzLmNybU9uQWRkKTtcbiAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoJ19yZXNldFNlbGVjdGlvbigpJyk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbml0U2VsZWN0MiAoKSB7XG4gICAgICAgICAgQ1JNLiQoaW5wdXQpLmNybVNlbGVjdDIoe1xuICAgICAgICAgICAgZGF0YTogc2NvcGVbYXR0cnMuY3JtT3B0aW9uc10sXG4gICAgICAgICAgICBjcmVhdGVTZWFyY2hDaG9pY2U6IGZ1bmN0aW9uICh0ZXJtKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7aWQ6IHRlcm0sIHRleHQ6IHRlcm0gKyAnICgnICsgdHMoJ25ldycpICsgJyknfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVTZWFyY2hDaG9pY2VQb3NpdGlvbjogJ2JvdHRvbScsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogYXR0cnMucGxhY2Vob2xkZXJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRXYXRjaGVycyAoKSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLmNybU9wdGlvbnMsIGluaXRTZWxlY3QyKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuICRkZWxlZ2F0ZTtcbiAgfVxuXG4gIHJldHVybiBDcm1BZGROYW1lRGVjb3JhdG9yO1xufSkoYW5ndWxhcik7XG4iLCIvKiBnbG9iYWwgYW5ndWxhciAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgdmFyIGNvcmVNb2R1bGVzID0gWydjcm1DYXNlVHlwZSddO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdjcm0tdGFza3Mtd29ya2Zsb3dzJywgY29yZU1vZHVsZXMuY29uY2F0KFtcbiAgICAnY3JtLXRhc2tzLXdvcmtmbG93cy5jb250cm9sbGVycycsXG4gICAgJ2NybS10YXNrcy13b3JrZmxvd3MuZGVjb3JhdG9ycydcbiAgXSkpO1xufSkoYW5ndWxhcik7XG4iXX0=

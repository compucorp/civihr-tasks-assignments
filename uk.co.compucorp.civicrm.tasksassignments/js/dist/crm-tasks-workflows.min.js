!function(t){"use strict";angular.module("crm-tasks-workflows.controllers",[])}(),function(t){"use strict";angular.module("crm-tasks-workflows.core",["crmCaseType"])}(),function(t){"use strict";angular.module("crm-tasks-workflows.decorators",[])}(),function(t){"use strict";function e(t,e,o,r,s,c,i){e.debug("Controller: CaseTypeExtendedController");var n,a,l={};function u(t,e){l.addActivity(t,e),t.activityTypes.forEach(function(t){t.name===e&&delete t.reference_activity})}s.actTypes={values:(n=c.values.map(function(t){return t.label=t.label+" (Task)",t}),a=i.values.map(function(t){return t.label=t.label+" (Document)",t}),n.concat(a))},t("CaseTypeCtrl",{$scope:o,crmApi:r,apiCalls:s}),l.addActivity=o.addActivity,o.addActivity=u,!o.caseType.id&&(o.caseType.definition.activitySets[0].activityTypes=[])}angular.module("crm-tasks-workflows.controllers").controller("CaseTypeExtendedController",e),e.$inject=["$controller","$log","$scope","crmApi","apiCalls","activityOptionsTask","activityOptionsDocument"]}(),function(t){"use strict";function e(t){var e;function o(e){return["crmApi",function(t){return t("OptionValue","get",{option_group_id:"activity_type",component_id:e,sequential:1,options:{sort:"name",limit:0}})}]}return(e=t.routes["/caseType/:id"]).controller="CaseTypeExtendedController",e.resolve.activityOptionsTask=o("CiviTask"),e.resolve.activityOptionsDocument=o("CiviDocument"),t}angular.module("crm-tasks-workflows.decorators").config(["$provide",function(t){t.decorator("$route",e)}]),e.$inject=["$delegate"]}(),function(t){"use strict";angular.module("crm-tasks-workflows",["crm-tasks-workflows.core","crm-tasks-workflows.controllers","crm-tasks-workflows.decorators"])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNybS10YXNrcy13b3JrZmxvd3MuY29udHJvbGxlcnMuanMiLCJjcm0tdGFza3Mtd29ya2Zsb3dzLmNvcmUuanMiLCJjcm0tdGFza3Mtd29ya2Zsb3dzLmRlY29yYXRvci5qcyIsImNhc2V0eXBlLmV4dGVuZGVkLmNvbnRyb2xsZXIuanMiLCJyb3V0ZS5kZWNvcmF0b3IuanMiLCJjcm0tdGFza3Mtd29ya2Zsb3dzLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJDYXNlVHlwZUV4dGVuZGVkQ29udHJvbGxlciIsIiRjb250cm9sbGVyIiwiJGxvZyIsIiRzY29wZSIsImNybUFwaSIsImFwaUNhbGxzIiwiYWN0aXZpdHlPcHRpb25zVGFzayIsImFjdGl2aXR5T3B0aW9uc0RvY3VtZW50IiwiZGVidWciLCJ0YXNrT3B0aW9ucyIsImRvY3VtZW50T3B0aW9ucyIsInBhcmVudE1ldGhvZHMiLCJhZGRBY3Rpdml0eSIsImFjdGl2aXR5U2V0IiwiYWN0aXZpdHlUeXBlIiwiYWN0aXZpdHlUeXBlcyIsImZvckVhY2giLCJhY3Rpdml0eSIsIm5hbWUiLCJyZWZlcmVuY2VfYWN0aXZpdHkiLCJhY3RUeXBlcyIsInZhbHVlcyIsIm1hcCIsInR5cGUiLCJsYWJlbCIsImRvY3VtZW50IiwiY29uY2F0IiwiY2FzZVR5cGUiLCJpZCIsImRlZmluaXRpb24iLCJhY3Rpdml0eVNldHMiLCJjb250cm9sbGVyIiwiJGluamVjdCIsIlJvdXRlRGVjb3JhdG9yIiwiJGRlbGVnYXRlIiwiY2FzZVR5cGVFZGl0Um91dGUiLCJnZXRSZXNvbHZlckZvckFjdGl2aXR5VHlwZUNvbXBvbmVudCIsImNvbXBvbmVudE5hbWUiLCJvcHRpb25fZ3JvdXBfaWQiLCJjb21wb25lbnRfaWQiLCJzZXF1ZW50aWFsIiwib3B0aW9ucyIsInNvcnQiLCJsaW1pdCIsInJvdXRlcyIsInJlc29sdmUiLCJjb25maWciLCIkcHJvdmlkZSIsImRlY29yYXRvciJdLCJtYXBwaW5ncyI6IkNBRUEsU0FBQUEsR0FDQSxhQUdBQSxRQURBQyxPQUFBLGtDQUFBLElBSEEsR0NBQSxTQUFBRCxHQUNBLGFBS0FBLFFBSEFDLE9BQUEsMkJBQUEsQ0FDQSxnQkFKQSxHQ0FBLFNBQUFELEdBQ0EsYUFHQUEsUUFEQUMsT0FBQSxpQ0FBQSxJQUhBLEdDQUEsU0FBQUQsR0FDQSxhQVNBLFNBQUFFLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FMLEVBQUFNLE1BQUEsMENBRUEsSUF1REFDLEVBTUFDLEVBN0RBQyxFQUFBLEdBc0JBLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUFILEVBQUFDLFlBQUFDLEVBQUFDLEdBR0FELEVBQUFFLGNBQUFDLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUMsT0FBQUosVUFDQUcsRUFBQUUscUJBZ0JBZCxFQUFBZSxTQUFBLENBQUFDLFFBVUFaLEVBQUFILEVBQUFlLE9BQUFDLElBQUEsU0FBQUMsR0FHQSxPQUZBQSxFQUFBQyxNQUFBRCxFQUFBQyxNQUFBLFVBRUFELElBR0FiLEVBQUFILEVBQUFjLE9BQUFDLElBQUEsU0FBQUcsR0FHQSxPQUZBQSxFQUFBRCxNQUFBQyxFQUFBRCxNQUFBLGNBRUFDLElBR0FoQixFQUFBaUIsT0FBQWhCLEtBckJBVCxFQUFBLGVBQUEsQ0FBQUUsT0FBQUEsRUFBQUMsT0FBQUEsRUFBQUMsU0FBQUEsSUF2Q0FNLEVBQUFDLFlBQUFULEVBQUFTLFlBQ0FULEVBQUFTLFlBQUFBLEdBQ0FULEVBQUF3QixTQUFBQyxLQTZCQXpCLEVBQUF3QixTQUFBRSxXQUFBQyxhQUFBLEdBQUFmLGNBQUEsSUFnQ0FqQixRQWhGQUMsT0FBQSxtQ0FDQWdDLFdBQUEsNkJBQUEvQixHQUVBQSxFQUFBZ0MsUUFBQSxDQUNBLGNBQUEsT0FBQSxTQUFBLFNBQUEsV0FBQSxzQkFBQSwyQkFQQSxHQ0FBLFNBQUFsQyxHQUNBLGFBU0EsU0FBQW1DLEVBQUFDLEdBQ0EsSUFDQUMsRUFhQSxTQUFBQyxFQUFBQyxHQUNBLE1BQUEsQ0FBQSxTQUFBLFNBQUFqQyxHQUNBLE9BQUFBLEVBQUEsY0FBQSxNQUFBLENBQ0FrQyxnQkFBQSxnQkFDQUMsYUFBQUYsRUFDQUcsV0FBQSxFQUNBQyxRQUFBLENBQUFDLEtBQUEsT0FBQUMsTUFBQSxPQUtBLE9BeEJBUixFQUFBRCxFQUFBVSxPQUFBLGtCQUVBYixXQUFBLDZCQUNBSSxFQUFBVSxRQUFBdkMsb0JBQUE4QixFQUFBLFlBQ0FELEVBQUFVLFFBQUF0Qyx3QkFBQTZCLEVBQUEsZ0JBb0JBRixFQUVBcEMsUUFuQ0FDLE9BQUEsa0NBQ0ErQyxPQUFBLENBQUEsV0FBQSxTQUFBQyxHQUNBQSxFQUFBQyxVQUFBLFNBQUFmLE1BR0FBLEVBQUFELFFBQUEsQ0FBQSxhQVJBLEdDQUEsU0FBQWxDLEdBQ0EsYUFPQUEsUUFMQUMsT0FBQSxzQkFBQSxDQUNBLDJCQUNBLGtDQUNBLG1DQU5BIiwiZmlsZSI6ImNybS10YXNrcy13b3JrZmxvd3MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIGFuZ3VsYXIgKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnY3JtLXRhc2tzLXdvcmtmbG93cy5jb250cm9sbGVycycsIFtdKTtcbn0pKGFuZ3VsYXIpO1xuIiwiLyogZ2xvYmFsIGFuZ3VsYXIgKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnY3JtLXRhc2tzLXdvcmtmbG93cy5jb3JlJywgW1xuICAgICdjcm1DYXNlVHlwZSdcbiAgXSk7XG59KShhbmd1bGFyKTtcbiIsIi8qIGdsb2JhbCBhbmd1bGFyICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2NybS10YXNrcy13b3JrZmxvd3MuZGVjb3JhdG9ycycsIFtdKTtcbn0pKGFuZ3VsYXIpO1xuIiwiLyogZ2xvYmFsIGFuZ3VsYXIgKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnY3JtLXRhc2tzLXdvcmtmbG93cy5jb250cm9sbGVycycpXG4gICAgLmNvbnRyb2xsZXIoJ0Nhc2VUeXBlRXh0ZW5kZWRDb250cm9sbGVyJywgQ2FzZVR5cGVFeHRlbmRlZENvbnRyb2xsZXIpO1xuXG4gIENhc2VUeXBlRXh0ZW5kZWRDb250cm9sbGVyLiRpbmplY3QgPSBbXG4gICAgJyRjb250cm9sbGVyJywgJyRsb2cnLCAnJHNjb3BlJywgJ2NybUFwaScsICdhcGlDYWxscycsICdhY3Rpdml0eU9wdGlvbnNUYXNrJywgJ2FjdGl2aXR5T3B0aW9uc0RvY3VtZW50J1xuICBdO1xuXG4gIGZ1bmN0aW9uIENhc2VUeXBlRXh0ZW5kZWRDb250cm9sbGVyICgkY29udHJvbGxlciwgJGxvZywgJHNjb3BlLCBjcm1BcGksIGFwaUNhbGxzLCBhY3Rpdml0eU9wdGlvbnNUYXNrLCBhY3Rpdml0eU9wdGlvbnNEb2N1bWVudCkge1xuICAgICRsb2cuZGVidWcoJ0NvbnRyb2xsZXI6IENhc2VUeXBlRXh0ZW5kZWRDb250cm9sbGVyJyk7XG5cbiAgICB2YXIgcGFyZW50TWV0aG9kcyA9IHt9O1xuXG4gICAgKGZ1bmN0aW9uIGluaXQgKCkge1xuICAgICAgdmFyIGlzTmV3Q2FzZVR5cGU7XG5cbiAgICAgIGluaXRQYXJlbnRDb250cm9sbGVyKCk7XG5cbiAgICAgIHBhcmVudE1ldGhvZHMuYWRkQWN0aXZpdHkgPSAkc2NvcGUuYWRkQWN0aXZpdHk7XG4gICAgICAkc2NvcGUuYWRkQWN0aXZpdHkgPSBhZGRBY3Rpdml0eTtcbiAgICAgIGlzTmV3Q2FzZVR5cGUgPSAhJHNjb3BlLmNhc2VUeXBlLmlkO1xuXG4gICAgICBpZiAoaXNOZXdDYXNlVHlwZSkge1xuICAgICAgICBjbGVhckFsbEFjdGl2aXR5VHlwZXNGcm9tTWFpbkFjdGl2aXR5U2V0KCk7XG4gICAgICB9XG4gICAgfSkoKTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBuZXcgYWN0aXZpdHlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGl2aXR5U2V0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGFjdGl2aXR5VHlwZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZEFjdGl2aXR5IChhY3Rpdml0eVNldCwgYWN0aXZpdHlUeXBlKSB7XG4gICAgICAvLyBjYWxsIHBhcmVudFxuICAgICAgcGFyZW50TWV0aG9kcy5hZGRBY3Rpdml0eShhY3Rpdml0eVNldCwgYWN0aXZpdHlUeXBlKTtcblxuICAgICAgLy8gcmVtb3ZlIHJlZmVyZW5jZV9hY3Rpdml0eSBwcm9wZXJ0eSBmcm9tIG5ld2x5IGFkZGVkIGFjdGl2aXR5XG4gICAgICBhY3Rpdml0eVNldC5hY3Rpdml0eVR5cGVzLmZvckVhY2goZnVuY3Rpb24gKGFjdGl2aXR5KSB7XG4gICAgICAgIGlmIChhY3Rpdml0eS5uYW1lID09PSBhY3Rpdml0eVR5cGUpIHtcbiAgICAgICAgICBkZWxldGUgYWN0aXZpdHkucmVmZXJlbmNlX2FjdGl2aXR5O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIHRoZSBhY3Rpdml0eSB0eXBlcyBkZWZpbmVkIGluIHRoZSBtYWluIGFjdGl2aXR5IHNldC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGVhckFsbEFjdGl2aXR5VHlwZXNGcm9tTWFpbkFjdGl2aXR5U2V0ICgpIHtcbiAgICAgICRzY29wZS5jYXNlVHlwZS5kZWZpbml0aW9uLmFjdGl2aXR5U2V0c1swXS5hY3Rpdml0eVR5cGVzID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGlzZSB0aGUgcGFyZW50IGNvbnRyb2xsZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0UGFyZW50Q29udHJvbGxlciAoKSB7XG4gICAgICBhcGlDYWxscy5hY3RUeXBlcyA9IHsgdmFsdWVzOiBwcmVwYXJlQWN0aXZpdHlUeXBlcygpIH07XG4gICAgICAkY29udHJvbGxlcignQ2FzZVR5cGVDdHJsJywgeyRzY29wZTogJHNjb3BlLCBjcm1BcGk6IGNybUFwaSwgYXBpQ2FsbHM6IGFwaUNhbGxzfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGxpc3Qgb2YgYWN0aXZpdHkgdHlwZXMgd2l0aCBjb21wb25lbnQgdHlwZSBhZGRlZCB0byBsYWJlbFxuICAgICAqXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJlcGFyZUFjdGl2aXR5VHlwZXMgKCkge1xuICAgICAgdmFyIHRhc2tPcHRpb25zID0gYWN0aXZpdHlPcHRpb25zVGFzay52YWx1ZXMubWFwKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHR5cGUubGFiZWwgPSAodHlwZS5sYWJlbCArICcgKFRhc2spJyk7XG5cbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGRvY3VtZW50T3B0aW9ucyA9IGFjdGl2aXR5T3B0aW9uc0RvY3VtZW50LnZhbHVlcy5tYXAoZnVuY3Rpb24gKGRvY3VtZW50KSB7XG4gICAgICAgIGRvY3VtZW50LmxhYmVsID0gKGRvY3VtZW50LmxhYmVsICsgJyAoRG9jdW1lbnQpJyk7XG5cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB0YXNrT3B0aW9ucy5jb25jYXQoZG9jdW1lbnRPcHRpb25zKTtcbiAgICB9XG4gIH1cbn0pKGFuZ3VsYXIpO1xuIiwiLyogZ2xvYmFsIGFuZ3VsYXIgKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnY3JtLXRhc2tzLXdvcmtmbG93cy5kZWNvcmF0b3JzJylcbiAgICAuY29uZmlnKFsnJHByb3ZpZGUnLCBmdW5jdGlvbiAoJHByb3ZpZGUpIHtcbiAgICAgICRwcm92aWRlLmRlY29yYXRvcignJHJvdXRlJywgUm91dGVEZWNvcmF0b3IpO1xuICAgIH1dKTtcblxuICBSb3V0ZURlY29yYXRvci4kaW5qZWN0ID0gWyckZGVsZWdhdGUnXTtcblxuICBmdW5jdGlvbiBSb3V0ZURlY29yYXRvciAoJGRlbGVnYXRlKSB7XG4gICAgKGZ1bmN0aW9uIGluaXQgKCkge1xuICAgICAgdmFyIGNhc2VUeXBlRWRpdFJvdXRlID0gJGRlbGVnYXRlLnJvdXRlc1snL2Nhc2VUeXBlLzppZCddO1xuXG4gICAgICBjYXNlVHlwZUVkaXRSb3V0ZS5jb250cm9sbGVyID0gJ0Nhc2VUeXBlRXh0ZW5kZWRDb250cm9sbGVyJztcbiAgICAgIGNhc2VUeXBlRWRpdFJvdXRlLnJlc29sdmUuYWN0aXZpdHlPcHRpb25zVGFzayA9IGdldFJlc29sdmVyRm9yQWN0aXZpdHlUeXBlQ29tcG9uZW50KCdDaXZpVGFzaycpO1xuICAgICAgY2FzZVR5cGVFZGl0Um91dGUucmVzb2x2ZS5hY3Rpdml0eU9wdGlvbnNEb2N1bWVudCA9IGdldFJlc29sdmVyRm9yQWN0aXZpdHlUeXBlQ29tcG9uZW50KCdDaXZpRG9jdW1lbnQnKTtcbiAgICB9KSgpO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlc29sdmVyIGZvciB0aGUgbGlzdCBvZiBhY3Rpdml0eSB0eXBlcyBmb3IgYSBwYXJ0aWN1bGFyIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gY29tcG9uZW50TmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBhY3Rpdml0eSB0eXBlJ3MgY29tcG9uZW50LlxuICAgICAqIEByZXR1cm4ge0FycmF5fSAgQW4gYXJyYXkgY29udGFpbmluZyB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIHJlc29sdmUgdGhlIGFjdGl2aXR5IHR5cGVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJlc29sdmVyRm9yQWN0aXZpdHlUeXBlQ29tcG9uZW50IChjb21wb25lbnROYW1lKSB7XG4gICAgICByZXR1cm4gWydjcm1BcGknLCBmdW5jdGlvbiBhY3Rpdml0eU9wdGlvbnNSZXNvbHZlciAoY3JtQXBpKSB7XG4gICAgICAgIHJldHVybiBjcm1BcGkoJ09wdGlvblZhbHVlJywgJ2dldCcsIHtcbiAgICAgICAgICBvcHRpb25fZ3JvdXBfaWQ6ICdhY3Rpdml0eV90eXBlJyxcbiAgICAgICAgICBjb21wb25lbnRfaWQ6IGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgc2VxdWVudGlhbDogMSxcbiAgICAgICAgICBvcHRpb25zOiB7IHNvcnQ6ICduYW1lJywgbGltaXQ6IDAgfVxuICAgICAgICB9KTtcbiAgICAgIH1dO1xuICAgIH1cblxuICAgIHJldHVybiAkZGVsZWdhdGU7XG4gIH1cbn0pKGFuZ3VsYXIpO1xuIiwiLyogZ2xvYmFsIGFuZ3VsYXIgKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnY3JtLXRhc2tzLXdvcmtmbG93cycsIFtcbiAgICAnY3JtLXRhc2tzLXdvcmtmbG93cy5jb3JlJyxcbiAgICAnY3JtLXRhc2tzLXdvcmtmbG93cy5jb250cm9sbGVycycsXG4gICAgJ2NybS10YXNrcy13b3JrZmxvd3MuZGVjb3JhdG9ycydcbiAgXSk7XG59KShhbmd1bGFyKTtcbiJdfQ==

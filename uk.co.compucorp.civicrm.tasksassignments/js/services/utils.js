define(['services/services'], function (services) {    services.factory('UtilsService', ['settings','$q','$log','$rootScope', function (settings, $q, $log) {        $log.debug('Service: UtilsService');        return {            errorHandler: function(data, msg, deffered){                if (data.is_error) {                    $log.error(data.error_code + '\n'+data.error_message);                    if (deffered) {                        deffered.reject(data.error_code + '\n'+data.error_message);                    }                    if (data.trace) {                        $log.error(data.trace);                    }                    return true;                }                if (!data.values) {                    $log.error(msg || 'Unknown Error');                    if (deffered) {                        deffered.reject(msg || 'Unknown Error');                    }                    return true;                }            }        }    }]);});
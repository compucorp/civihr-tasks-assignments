define(['controllers/controllers',        'services/task'], function(controllers){    controllers.controller('TaskCtrl',['$scope', '$log', '$filter', '$timeout', 'TaskService',        function($scope, $log, $filter, $timeout, TaskService){            $log.debug('Controller: TaskCtrl');            $scope.isCollapsed = true;            $scope.task.activity_date_time = new Date($scope.task.activity_date_time);            //$scope.task.resolved = +$scope.task.status_id == 2;            $scope.changeStatus = function(){                /*                $scope.task.done = +$scope.task.status_id == 2;                TaskService.save($scope.task).then(function(results){                    $timeout(function(){                        $scope.task.resolved = +results.status_id == 2;                    },3000);                })                */            }            $scope.$watch('task.activity_date_time',function(){                $scope.task.due = new Date($scope.task.activity_date_time) < new Date();            });        }]);});
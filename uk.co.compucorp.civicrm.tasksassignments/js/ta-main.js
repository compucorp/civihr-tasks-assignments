var module, reqTa = require.config({    context: 'tasksassignments',    baseUrl: '/sites/all/modules/civicrm/tools/extensions/uk.co.compucorp.civicrm.tasksassignments/js',    urlArgs: "bust=" + (new Date()).getTime(),    paths: {        angularSelect: 'vendor/angular/select',        requireLib: CRM.vars.reqAngular.requireLib    }});reqTa([    'app',    'controllers/taskList',    'controllers/task',    'controllers/modal/modalTask',    'requireLib'],function(app){    'use strict';    app.constant('settings', {        classNamePrefix: 'ct-',        contactId: decodeURIComponent((new RegExp('[?|&]cid=([^&;]+?)(&|#|;|$)').exec(location.search)||[,""])[1].replace(/\+/g, '%20'))||null,        debug: true,        pathApp: '/sites/all/modules/civicrm/tools/extensions/uk.co.compucorp.civicrm.tasksassignments/',        pathRest: CRM.url('civicrm/ajax/rest'),        pathTpl: '/sites/all/modules/civicrm/tools/extensions/uk.co.compucorp.civicrm.tasksassignments/views/'    });    app.config(['settings','$routeProvider','$resourceProvider','$httpProvider','uiSelectConfig','$logProvider',        function(settings, $routeProvider, $resourceProvider, $httpProvider, uiSelectConfig, $logProvider){            $logProvider.debugEnabled(settings.debug);            $routeProvider.                when('/', {                    controller: 'TaskListCtrl',                    templateUrl: settings.pathTpl+'taskList.html?v='+(new Date().getTime()),                    resolve: {                        taskList: ['TaskService',function(TaskService){                            return TaskService.get();                        }]                    }                }            ).otherwise({redirectTo:'/'});            $resourceProvider.defaults.stripTrailingSlashes = false;            $httpProvider.defaults.headers.common["X-Requested-With"] = 'XMLHttpRequest';            uiSelectConfig.theme = 'bootstrap';        }    ]);    app.run(['settings','$rootScope','$q', 'TaskService', '$log',        function(settings, $rootScope, $q, TaskService, $log){            $log.debug('app.run');            $rootScope.pathTpl = settings.pathTpl;            $rootScope.prefix = settings.classNamePrefix;            $rootScope.cache = {                contact: {                    obj: {},                    arr: [],                    addSearch: []                },                taskType: {                    obj: {},                    arr: []                },                taskStatus: {                    obj: {},                    arr: []                }            };            TaskService.getOptions().then(function(options){                angular.extend($rootScope.cache,options);            });        }    ]);    document.addEventListener('taLoad', function(){        angular.bootstrap(document.getElementById('civitasks'), ['civitasks']);    });})